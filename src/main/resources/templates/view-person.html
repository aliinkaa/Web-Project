<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org">

<head>
	<link rel="stylesheet" href="/css/style.css">
	<meta charset="UTF-8">
	<title th:text="${person.fullName}"></title>
</head>

<body>
	<h2 th:text="${person.fullName}"></h2>
	<table>
		<tr>
			<td>Full Name:</td>
			<td th:text="${person.fullName}"></td>
		</tr>
		<tr>
			<td>Date of Birth:</td>
			<td>				
				<span th:text="${#temporals.format(person.dateOfBirth, 'dd-MM-yyyy')}"></span>
				<span th:if="${#strings.isEmpty(person.dateOfBirth)}" th:text="'---'"></span>
			</td>
		</tr>
	</table>

	<p><b>Phone Numbers:</b></p>
	
	<div th:unless="${#lists.isEmpty(person.phones)}">
		<table>
			<tr th:each="ph : ${person.phones}">
				<td><a th:href="'/person/phone/delete/' + ${person.id} + '/' + ${ph.id}"><img src="/img/delete.png" width="20"></a></td>
				<td th:text="${ph.number}"></td>
			</tr>
		</table>
	</div>
	
	<div th:if="${#lists.isEmpty(person.phones)}">
		<p class="small-italic">This person has no phone number.</p>
	</div>
	
	<h3>Add New Phone Number</h3>
	
	<form action = "/person/phone/add" method = "post" th:object = "${phone}"> <!--in action we specify the path to be taken to. (when pressed). an instance is retrieved: name specified in th part.-->
		Number: <input type = "text" th:field = "*{number}"> <!--why not $ ??-->
		<input type = "hidden" th:field = "*{person.id}">
		<input type = "submit" value = "Add">
		<span th:errors = "*{number}" class = "error"></span>
	</form>

	<p><a href="/list.html">Show List</a> | <a href="/new_person.html">Create New</a></p>
</body>

</html>